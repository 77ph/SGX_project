# TODO: Security Improvements

## Криптографические улучшения
- [x] Реализовать безопасное удаление чувствительных данных (использовать `sgx_secure_memset` вместо обычного `memset`)
- [ ] Удалить неиспользуемый функционал nonce (мы работаем по модели Ledger, где nonce не нужен)

## Управление ключами
- [ ] Добавить возможность резервного копирования ключей с шифрованием
- [ ] Реализовать механизм восстановления ключей
- [ ] Добавить проверку целостности ключей при каждой операции

## Безопасность энклава
- [ ] Добавить проверку версии энклава при загрузке
- [ ] Реализовать механизм обновления энклава
- [ ] Добавить защиту от rollback-атак при сохранении состояния
- [ ] Реализовать механизм обнаружения компрометации энклава

## Аудит и логирование
- [ ] Добавить безопасное логирование критических операций
- [ ] Реализовать механизм аудита доступа к ключам
- [ ] Добавить мониторинг подозрительной активности
- [ ] Реализовать механизм оповещения о подозрительных операциях

## Управление состоянием
- [ ] Добавить механизм блокировки аккаунта после определенного количества неудачных попыток
- [ ] Реализовать механизм автоматического выхода из энклава при длительном бездействии
- [ ] Добавить проверку целостности состояния между операциями
- [ ] Реализовать механизм восстановления после сбоев

## Валидация входных данных
- [ ] Усилить проверку формата и длины входных данных
- [ ] Добавить проверку на переполнение буфера
- [ ] Реализовать санитизацию всех входных параметров
- [ ] Добавить проверку на инъекции в параметры команд

## Защита от атак
- [ ] Добавить защиту от replay-атак
- [ ] Реализовать механизм защиты от атак типа "man-in-the-middle"
- [ ] Добавить проверку на атаки типа "birthday attack"
- [ ] Реализовать механизм защиты от атак типа "dictionary attack"

## Управление доступом
- [ ] Реализовать механизм разграничения доступа к разным операциям
- [ ] Добавить поддержку ролей и разрешений
- [ ] Реализовать механизм делегирования доступа
- [ ] Добавить проверку прав доступа для каждой операции

## Резервное копирование
- [ ] Реализовать безопасное резервное копирование состояния
- [ ] Добавить механизм восстановления из резервной копии
- [ ] Реализовать проверку целостности резервных копий
- [ ] Добавить механизм ротации резервных копий

## Документация и тестирование
- [ ] Добавить документацию по безопасности
- [ ] Реализовать автоматические тесты безопасности
- [ ] Добавить проверку на уязвимости
- [ ] Реализовать механизм отчетности о проблемах безопасности 